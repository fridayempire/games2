<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dusk Til Gone - Block Fit Puzzle</title>
  <link rel="stylesheet" href="style.css">
  <link rel="apple-touch-icon" href="../favicon/fridaygames2.png">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EGWN2CJ30Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-EGWN2CJ30Q');
  </script>
</head>
<body>
  <div id="duskLayer"></div>
  <div class="game-container" id="game-container">
    <button id="backBtn" title="Back" onclick="window.location.href='/index.html'">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/><line x1="9" y1="12" x2="21" y2="12"/></svg>
    </button>
    <button id="helpBtn" title="How to Play" onclick="showHelpModal()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
    </button>
    <button id="restartBtn" title="Restart" onclick="restartCurrentPuzzle()">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2v6h-6"/><path d="M3 12a9 9 0 0 1 15-6.7l3 3"/><path d="M21 12a9 9 0 1 1-9-9"/></svg>
    </button>
    <div class="header-block">
      <h1>🧛🏻‍♂️ Dusk Til Gone 🧛🏻‍♂️</h1>
      <h2 class="subheader">🦇 Board up before the light breaks in 🪵</h2>
    </div>
    <div class="grid-container" id="gameGrid">
      <img id="windowImage" src="./images/window_backdrop.png" alt="window" />
    </div>
    <div class="piece-tray" id="pieceTray"></div>
  </div>
  <footer class="footer">Made with 💜 by Friday Games</footer>
  <div id="winModal" class="win-modal" style="display:none;">
    <div class="win-modal-content">
      <button id="winBackBtn" class="win-modal-back" title="Back to games" onclick="window.location.href='/index.html'">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/><line x1="9" y1="12" x2="21" y2="12"/></svg>
      </button>
      <div class="win-bat-emoji">🦇</div>
      <h2 class="win-title">You Boarded Up the Night! 🌙</h2>
      <p class="win-catchphrase">The bats are safe, the dawn is held at bay!<br><span style="font-size:1.5em;">🧛🏻‍♂️🦇🪵</span></p>
      <img src="./images/bat-cartoon.png" alt="Bat" class="win-bat-img" />
      <button id="shareWinBtn" class="win-share-btn">Share your victory! 🎉</button>
      <div class="win-footer">Made with <span style="color:#b7aaff;">🖤</span> by Friday Games</div>
    </div>
  </div>
  <div id="helpModal" class="win-modal" style="display:none;">
    <div class="win-modal-content">
      <button id="closeHelpBtn" class="win-modal-back" title="Close" onclick="hideHelpModal()">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
      <h2 class="win-title">How to Play</h2>
      <div class="help-content">
        <p>🧛🏻‍♂️ <strong>Dusk Til Gone</strong> is a block-fitting puzzle game where you must board up a window before dawn breaks.</p>
        <p>🎮 <strong>Controls:</strong></p>
        <ul>
          <li>Drag pieces from the tray to the grid</li>
          <li>Click and drag pieces on the grid to move them</li>
          <li>Fill the entire window to win!</li>
        </ul>
        <p>🌙 <strong>Tips:</strong></p>
        <ul>
          <li>Plan your moves - pieces can't overlap</li>
          <li>Use the restart button to try again</li>
          <li>The darkness fades as you place more pieces</li>
        </ul>
      </div>
    </div>
  </div>
  <script src="game.js"></script>
</body>
</html> 